<!DOCTYPE html>
<html>

<head>
    <title>Wimbledon 2008 Men's Final</title>
</head>

<body>
    <table>
        <tr id="players">
            <th>Federer</th>
            <th>Sets</th>
            <th>Nadal</th>
        </tr>
        <tr id="set1">
            <td>4</td>
            <td>1</td>
            <td>6</td>
        </tr>
        <tr id="set2">
            <td>4</td>
            <td>2</td>
            <td>6</td>
        </tr>
        <tr id="set3">
            <td>7</td>
            <td>3</td>
            <td>6</td>
        </tr>
        <tr id="set4">
            <td>7</td>
            <td>4</td>
            <td>6</td>
        </tr>
        <tr id="set5">
            <td>7</td>
            <td>5</td>
            <td>9</td>
        </tr>
    </table>
    <p id="result"></p>

    <script>
        function printResult() {
            let p1ScoreCount = 0;
            let p2ScoreCount = 0;

            let tableLength = document.getElementsByTagName("table")[0].rows.length;
            console.log(tableLength);

            for (let i = 1; i < tableLength; i++) {
                let p1Score = parseInt(document.getElementById("set" + i).getElementsByTagName("td")[0].textContent);
                let p2Score = parseInt(document.getElementById("set" + i).getElementsByTagName("td")[2].textContent);

                if (p1Score > p2Score) {
                    p1ScoreCount += 1;
                } else {
                    p2ScoreCount += 1;
                }
            }

            let resultHTML = document.getElementById("result");
            let p1Name = document.getElementById("players").getElementsByTagName("th")[0].textContent;
            let p2Name = document.getElementById("players").getElementsByTagName("th")[2].textContent;

            if (p1ScoreCount > p2ScoreCount) {
                resultHTML.innerHTML = p1Name + " won " + p1ScoreCount + "-" + p2ScoreCount + " in " + (tableLength - 1) + "sets";
            } else {
                resultHTML.textContent = p1Name + " won " + p1ScoreCount + "-" + p2ScoreCount + " in " + (tableLength - 1) + "sets";
                console.log("yeah")
            }
        }

        window.onload = printResult;

    </script>
</body>

</html>